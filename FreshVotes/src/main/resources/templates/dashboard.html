<html xmlns:th="http://thymeleaf.org">
<head>
<title>Dash Board</title>
<script th:replace="fragments/header :: headerElement"></script>
</head>
<body>
    <!-- 
      create = Http Post
      read =   Http Get
      update = Http Put
      delete = Http Delete
     -->
<div class= "container" style="margin-top:1.5em;">
<div th:replace="fragments/header :: header"></div>
	<div class="row">
		<div class="col-8">
		<h1 th:text="|Welcome to Dash Board of ${products.size()} product(s)|">Welcome to Dash Board </h1>
		
		</div>
		<div class="col-4">
<!-- 		<form action="/logout" method="post" class="float-right"> -->
<!-- 		<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"> -->
<!-- 		<button type="submit" class="btn btn-lg btn-primary">Logout</button> -->
<!-- 		</form> -->
		</div>
	</div>
	
	<div th:if="${products!=null}">
			<div class="card">
			  
			  <div class="card-body" th:each="product: ${products}">
			    <h5 class="card-title " th:text="${product.name}"></h5>
			    <h6 class="card-text" th:text="${product.published ? 'published':'not published'}"></h6>
			     <a th:href="@{/products/{productId}(productId=${product.id})}" class="btn btn-primary">Edit</a>
			     <button type="button" class="btn btn-primary" th:onclick="|window.location.href='@{/p/{productName}(productName=${product.name})}'|"> View Feature Requests
				 <span class="badge badge-light" th:text=" ${product.features.size()}">Number of requests</span>
				</button>
			     
<!-- 			     <a th:href="@{/p/{productName}(productName=${product.name})}" class="btn btn-primary" th:text="|View Feature Request for  ${product.name}|">View Requests</a> -->

			    
			  </div>
			</div>
<!-- 		<div class="jumbotron">
			<div class="row">
				<div class="col display-4" style="margin-top:-1em">
					<h2>Products</h2>
				</div>
			</div>
				
				<div class="row" th:each="product: ${products}">
					<div class="col lead">
					<a th:href="@{/products/{productId}(productId=${product.id})}" th:text="${product.name}"></a>
					</div>
				</div>
				
			
			
		</div> -->
	</div>
	
	<div class="row">
		<form action="/products" method="post">
		<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
		<button class="btn btn-lg btn-primary" id="createProduct">Create a Product</button>
		</form>
	</div>
</div>
</body>
</html>